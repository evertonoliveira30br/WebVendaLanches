@model IEnumerable<WebVendaLanches.Models.Cardapio>
@{
    ViewBag.Title = "Nosso Cárdapio de Lanches";
}

<h2>CARDÁPIO DE LANCHES</h2>


<div class="row wrapper border-bottom white-bg page-heading">

    <table id="tabelaCardapio" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Código do Lanche</th>
                <th>Lanche</th>
                <th>Ingredientes</th>
                <th>Valor do Lanche</th>
                <th></th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.LancheId)</td>
                    <td>@Html.DisplayFor(modelItem => item.Lanche)</td>
                    <td>@Html.DisplayFor(modelItem => item.Ingredientes)</td>
                    @if (item.LanchePersonalizado)
                    {
                        <td>------</td>
                    }
                    else
                    {
                        <td>@Html.DisplayFor(modelItem => item.PrecoLanche)</td>

                    }

                    <td>

                        <a name="fazerPedido" href="#" class="btn btn-primary btn-sm">
                            <span class="glyphicon glyphicon-ok"></span> Selecionar
                        </a>

                    </td>

                </tr>
            }

        </tbody>
    </table>

</div>

@section Scripts {
    <script type="text/javascript">
            $(document).ready(function () {               
                                
                $('a[name="fazerPedido"]').click(function () {
                    let $tdLancheId = $(this).closest('tr').find('td').eq(0);

                    let lancheId = parseInt($tdLancheId.text());
                                                                         
                    window.location.href = "/Pedido/Index?lancheId=" + lancheId;
                });               


            });
    </script>
}